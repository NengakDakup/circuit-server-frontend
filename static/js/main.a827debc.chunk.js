(this["webpackJsonpcircuit-server-frontend"]=this["webpackJsonpcircuit-server-frontend"]||[]).push([[0],{201:function(e,t,a){},202:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(78),r=a.n(c),l=(a(89),a(1)),s=a(2),o=a(4),u=a(3),m=a(20),h=a(16),d=a(32),p=a(8),v=a(49),f=a(46),g=a(50),E=a(7),b=a(10),w=a.n(b),S=a(79),y={authServer:"https://circuit-server-backend.herokuapp.com/",server:"https://api.thingspeak.com/",readChannelWriteKey:"3PHOQ8WWK84H2ZOI",readChannelReadKey:"C8UBSQMSSEF8QUHZ",readChannelID:"1367898",writeChannelWriteKey:"WWM5JZUQBE4DRHND",writeChannelReadKey:"G6HUJVWXW7RFCMSE",writeChannelID:"1367899",generalChannelWriteKey:"7VF6L5923BZJMANS",generalChannelReadKey:"8S4OMK4UI4ZGW9W0",generalChanenlID:"1367901"},O=function(){return i.a.createElement("svg",{viewBox:"0 0 576 512"},i.a.createElement("path",{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"}))},N=function(){return i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},i.a.createElement("path",{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"}))},j=function(){return i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512"},i.a.createElement("path",{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"}))},k=function(){return i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},i.a.createElement("path",{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"}))},C=function(){return i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},i.a.createElement("path",{d:"M400 54.1c63 45 104 118.6 104 201.9 0 136.8-110.8 247.7-247.5 248C120 504.3 8.2 393 8 256.4 7.9 173.1 48.9 99.3 111.8 54.2c11.7-8.3 28-4.8 35 7.7L162.6 90c5.9 10.5 3.1 23.8-6.6 31-41.5 30.8-68 79.6-68 134.9-.1 92.3 74.5 168.1 168 168.1 91.6 0 168.6-74.2 168-169.1-.3-51.8-24.7-101.8-68.1-134-9.7-7.2-12.4-20.5-6.5-30.9l15.8-28.1c7-12.4 23.2-16.1 34.8-7.8zM296 264V24c0-13.3-10.7-24-24-24h-32c-13.3 0-24 10.7-24 24v240c0 13.3 10.7 24 24 24h32c13.3 0 24-10.7 24-24z"}))},A=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.switchActiveTab,a=e.activeTab,n=e.logOut,c=e.token;return i.a.createElement("div",{className:"side-panel"},i.a.createElement("ul",null,i.a.createElement("li",{className:"overview"===a?"active":"",onClick:function(){return t("overview")}},i.a.createElement(O,null)," ",i.a.createElement("span",null,"Overview")),10===c.status&&i.a.createElement("li",{className:"graphs"===a?"active":"",onClick:function(){return t("graphs")}}," ",i.a.createElement(N,null)," ",i.a.createElement("span",null,"Graphs")),10===c.status&&i.a.createElement("li",{className:"userlogs"===a?"active":"",onClick:function(){return t("userlogs")}}," ",i.a.createElement(j,null)," ",i.a.createElement("span",null,"User Logs")),10===c.status&&i.a.createElement("li",{className:"notifications"===a?"active":"",onClick:function(){return t("notifications")}}," ",i.a.createElement(k,null)," ",i.a.createElement("span",null,"Notifications")),i.a.createElement("li",{onClick:function(){return n()}}," ",i.a.createElement(C,null)," ",i.a.createElement("span",null,"Logout"))))}}]),a}(n.Component),I=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.status;return i.a.createElement("button",{className:"btn-toggle",onClick:this.props.switchStatus},e?"TURN OFF":"TURN ON")}}]),a}(n.Component),x=function(){return i.a.createElement("svg",{width:"50px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 352 512"},i.a.createElement("path",{d:"M176 80c-52.94 0-96 43.06-96 96 0 8.84 7.16 16 16 16s16-7.16 16-16c0-35.3 28.72-64 64-64 8.84 0 16-7.16 16-16s-7.16-16-16-16zM96.06 459.17c0 3.15.93 6.22 2.68 8.84l24.51 36.84c2.97 4.46 7.97 7.14 13.32 7.14h78.85c5.36 0 10.36-2.68 13.32-7.14l24.51-36.84c1.74-2.62 2.67-5.7 2.68-8.84l.05-43.18H96.02l.04 43.18zM176 0C73.72 0 0 82.97 0 176c0 44.37 16.45 84.85 43.56 115.78 16.64 18.99 42.74 58.8 52.42 92.16v.06h48v-.12c-.01-4.77-.72-9.51-2.15-14.07-5.59-17.81-22.82-64.77-62.17-109.67-20.54-23.43-31.52-53.15-31.61-84.14-.2-73.64 59.67-128 127.95-128 70.58 0 128 57.42 128 128 0 30.97-11.24 60.85-31.65 84.14-39.11 44.61-56.42 91.47-62.1 109.46a47.507 47.507 0 0 0-2.22 14.3v.1h48v-.05c9.68-33.37 35.78-73.18 52.42-92.16C335.55 260.85 352 220.37 352 176 352 78.8 273.2 0 176 0z"}))},M=function(){return i.a.createElement("svg",{width:"50px",fill:"yellow",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 352 512"},i.a.createElement("path",{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"}))},D=function(e){return i.a.createElement("svg",{width:"20px",height:"20px",xmlns:"http://www.w3.org/2000/svg",fill:"on"===e?"green":"red",viewBox:"0 0 512 512"},i.a.createElement("path",{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"}))},U=function(){return i.a.createElement("svg",{width:"30px",height:"30px",fill:"#060e3d",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},i.a.createElement("path",{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"}))},P=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.bulbStatus,a=e.deviceStatus,n=e.switchBulbStatus;return i.a.createElement("div",{className:"device-card"},t&&a?i.a.createElement(M,null):i.a.createElement(x,null),i.a.createElement("h2",null,"Supply Status: ",t&&a?"ON":"OFF"),i.a.createElement(I,{status:t,switchStatus:n}))}}]),a}(n.Component),T=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.deviceStatus,a=e.switchDeviceStatus,n=e.activeSource;return i.a.createElement("div",{className:"device-card"},t?i.a.createElement(M,null):i.a.createElement(x,null),i.a.createElement("h2",null,"Source Status: ",n),i.a.createElement(I,{status:t,switchStatus:a}))}}]),a}(n.Component),z=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"digital-display"},this.props.value?this.props.value:"---")}}]),a}(n.Component),L=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.value,n=e.setActiveSource,c=e.activeSource,r=e.source;return i.a.createElement("div",{className:"pvi-card"},i.a.createElement("h4",null,t),a&&i.a.createElement(z,{value:a}),!a&&i.a.createElement("button",{className:"btn-control",onClick:function(){return n(r)}},c===r?"Active":"Switch"),r&&c===r&&i.a.createElement("div",{className:"indicator"}))}}]),a}(n.Component),R=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.data,t=e.activeSource,a=e.bulbStatus,n=e.deviceStatus,c=e.powerProduced,r=e.powerConsumed,l=e.communities,s=this.props,o=s.switchBulbStatus,u=s.switchDeviceStatus,m=s.setActiveSource,h=s.controlUser,d=s.token;return i.a.createElement("div",{className:"main-content"},i.a.createElement("h1",{className:"app-title"},"Development of intelligent master controller for Hybridized power pool System Applications"),10===d.status&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"main-content-top"},i.a.createElement(L,{title:"GRID SOURCE",setActiveSource:m,source:"Grid",activeSource:t}),i.a.createElement(L,{title:"RENEWABLE SOURCE",setActiveSource:m,source:"Renewable",activeSource:t}),i.a.createElement(L,{title:"GENERATOR SOURCE",setActiveSource:m,source:"Generator",activeSource:t})),i.a.createElement("div",{className:"main-content-top"},i.a.createElement(L,{title:"CURRENT",value:n?c:"---"}),i.a.createElement(L,{title:"VOLTAGE",value:n?r:"---"})),i.a.createElement("div",{className:"main-content-body"},i.a.createElement(T,{deviceStatus:n,switchDeviceStatus:u,activeSource:t}),i.a.createElement(P,{bulbStatus:a,deviceStatus:n,switchBulbStatus:o}))),i.a.createElement("div",{className:"user-logs-wrap"},i.a.createElement("ul",null,l.map((function(e){return i.a.createElement("li",{key:e.id},i.a.createElement("div",null," ",e.name," "),i.a.createElement("div",null,e.status?D("on"):D("off")),i.a.createElement("div",null,d.community.toLowerCase()===e.name.toLowerCase()&&i.a.createElement("button",{onClick:function(){return h(e.id)}},e.status?"Turn Off":"Turn On"),10===d.status&&i.a.createElement("button",{onClick:function(){return h(e.id)}},e.status?"Turn Off":"Turn On")))})))))}}]),a}(n.Component),B=a(80),G=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"main-content"},i.a.createElement("h1",{className:"app-title"},"IMC Trend Page"),i.a.createElement("h2",null,"Graphs"),i.a.createElement(B.a,{data:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"Power Consumed",borderColor:"rgb(255, 99, 132)",data:[0,10,5,2,20,30,45]},{label:"Power Produced",borderColor:"rgb(0,0,255)",data:[10,20,30,20,30,50,60]}]},height:500,width:800}))}}]),a}(n.Component),W=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={names:[{id:1,name:"AFIKPO",status:!0},{id:2,name:"AMAZIRI",status:!1},{id:3,name:"OZZIA",status:!0},{id:4,name:"ENOHIA",status:!1},{id:5,name:"UNWANA",status:!1}]},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props.communities;return i.a.createElement("div",{className:"main-content"},i.a.createElement("h1",{className:"app-title"},"IMC Operator's History Page"),i.a.createElement("h2",null,"UserLogs"),i.a.createElement("div",{className:"user-logs-wrap"},i.a.createElement("ul",null,t.map((function(t){return i.a.createElement("li",{key:t.id},i.a.createElement("div",null,t.name),i.a.createElement("div",null,t.status?D("on"):D("off")),i.a.createElement("div",null,i.a.createElement("button",{onClick:function(){return e.props.controlUser(t.id)}},t.status?"Turn Off":"Turn On")),i.a.createElement("div",null,i.a.createElement("button",null,"History")))})))))}}]),a}(n.Component),H=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props.notification,a=t.status,n=t.firstName,c=t.lastName,r=t.phoneNumber,l=t.email,s=t.ID,o=t.community,u=t.date;return i.a.createElement("li",null,i.a.createElement("div",{style:{width:"10%"}},i.a.createElement(U,null)),i.a.createElement("div",{style:{textAlign:"left",width:"50%"}},i.a.createElement("p",null,n," Signed Up")),i.a.createElement("div",{style:{width:"20%"}},i.a.createElement("button",{onClick:function(){return e.props.displayNotification({status:a,firstName:n,lastName:c,phoneNumber:r,email:l,ID:s,community:o,date:u})}},"View")),i.a.createElement("div",{style:{width:"20%"}},i.a.createElement("p",null,u)))}}]),a}(n.Component),V=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={loading:!1,message:""},n}return Object(s.a)(a,[{key:"submitData",value:function(){var e=this;this.setState({loading:!0}),w.a.post(y.authServer+"api/auth/authorize",{status:this.props.data.status,email:this.props.data.email}).then((function(t){e.setState({loading:!1,message:t.data.success||t.data.error})})).catch((function(t){e.setState({loading:!1}),t.response?(console.log(Object(p.a)({},t)),e.setState({message:t.response.data.error})):e.setState({message:"An Unknown Error Occured, Please Try Again"})}))}},{key:"render",value:function(){var e=this,t=this.props.data,a=t.status,n=t.firstName,c=t.lastName,r=t.phoneNumber,l=t.email,s=t.ID,o=t.community,u=t.date;return i.a.createElement("div",{className:"notification-popup"},i.a.createElement("p",null,i.a.createElement("strong",null,"Notification")),i.a.createElement("ul",null,i.a.createElement("li",null,"First Name: ",n),i.a.createElement("li",null,"Last Name: ",c),i.a.createElement("li",null,"Phone Number: ",r),i.a.createElement("li",null,"Email: ",l),i.a.createElement("li",null,"ID Number: ",s),i.a.createElement("li",null,"Community: ",o),i.a.createElement("li",null,"Date: ",u)),i.a.createElement("div",{style:{color:"orange"}},this.state.message),i.a.createElement("div",null,i.a.createElement("button",{onClick:function(){return e.submitData()}},this.state.loading?"Loading...":0===a?"Approve User":"Revoke Access"),i.a.createElement("button",{onClick:function(){return e.props.hideNotification()}},"Close")))}}]),a}(n.Component),F=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={displayNotification:!1,status:null,firstName:null,lastName:null,phoneNumber:null,email:null,ID:null,community:null,date:null},n.displayNotification=n.displayNotification.bind(Object(E.a)(n)),n.hideNotification=n.hideNotification.bind(Object(E.a)(n)),n}return Object(s.a)(a,[{key:"displayNotification",value:function(e){this.setState(Object(p.a)({displayNotification:!0},e))}},{key:"hideNotification",value:function(){this.setState({displayNotification:!1})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"main-content"},i.a.createElement("h1",{className:"app-title"},"IMC Authentication Page  "),this.state.displayNotification&&i.a.createElement(V,{hideNotification:this.hideNotification,data:this.state}),i.a.createElement("h2",null,"Notifications"),i.a.createElement("div",{className:"user-logs-wrap"},i.a.createElement("ul",null,this.props.notifications.map((function(t){return i.a.createElement(H,{notification:t,displayNotification:e.displayNotification,hideNotification:e.hideNotification})})))))}}]),a}(n.Component),K=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"modal"},i.a.createElement("p",null,this.props.message," | ",i.a.createElement("span",{style:{color:"red"}},"X")))}}]),a}(n.Component),Z=new Map,J=new Map;new Map;Z.set(1,{index:1,field:"field1"}),Z.set(2,{index:2,field:"field2"}),Z.set(3,{index:3,field:"field3"}),Z.set(4,{index:4,field:"field4"}),Z.set(5,{index:5,field:"field5"}),Z.set("Grid",{index:6,field:"field6"}),Z.set("Solar",{index:7,field:"field7"}),Z.set("Generator",{index:8,field:"field8"}),J.set("Current",{index:1,field:"field1"}),J.set("Voltage",{index:2,field:"field2"}),J.set("General PHY",{index:3,field:"field3"}),J.set("General APP",{index:4,field:"field4"});var Q=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={activeTab:"overview",activeSource:"none",modal:{show:!1,message:"This is some sample mesage for the modal"},communities:[{id:1,name:"AFIKPO",status:!0},{id:2,name:"AMAZIRI",status:!1},{id:3,name:"OZZIA",status:!0},{id:4,name:"ENOHIA",status:!1},{id:5,name:"UNWANA",status:!1}],notifications:[],bulbStatus:!0,deviceStatus:!0,voltage:5,current:2,powerProduced:200,powerConsumed:150,token:{firstName:"",lastName:"",phoneNumber:"",email:"",ID:"",community:"",status:""}},n.switchBulbStatus=n.switchBulbStatus.bind(Object(E.a)(n)),n.switchDeviceStatus=n.switchDeviceStatus.bind(Object(E.a)(n)),n.switchActiveTab=n.switchActiveTab.bind(Object(E.a)(n)),n.setActiveSource=n.setActiveSource.bind(Object(E.a)(n)),n.logOut=n.logOut.bind(Object(E.a)(n)),n.controlUser=n.controlUser.bind(Object(E.a)(n)),n.varyGenerated=n.varyGenerated.bind(Object(E.a)(n)),n.fetchState=n.fetchState.bind(Object(E.a)(n)),n.fetchNotifications=n.fetchNotifications.bind(Object(E.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e={};if(localStorage.getItem("token"))try{e=Object(S.a)(localStorage.getItem("token")),this.setState({token:e.tokenData})}catch(t){console.log(t)}else this.props.history.push("login");this.fetchState(),this.fetchNotifications()}},{key:"componentDidUpdate",value:function(){localStorage.getItem("token")||this.props.history.push("login")}},{key:"fetchNotifications",value:function(){var e=this;w.a.get(y.authServer+"api/auth/users").then((function(t){console.log(t.data.users),e.setState({notifications:Object(g.a)(t.data.users)})}))}},{key:"fetchState",value:function(){var e,t=this,a=Object(f.a)(Z.entries());try{var n=function(){var a=Object(v.a)(e.value,2),n=a[0],i=a[1];console.log(n,i),w.a.get("https://api.thingspeak.com/channels/".concat(y.readChannelID,"/fields/").concat(i.index,".json"),{params:{api_key:y.readChannelReadKey,results:1}}).then((function(e){console.log(e.data),t.writeState(n,e.data)})).catch((function(e){console.log(e)}))};for(a.s();!(e=a.n()).done;)n()}catch(l){a.e(l)}finally{a.f()}var i,c=Object(f.a)(J.entries());try{var r=function(){var e=Object(v.a)(i.value,2),a=e[0],n=e[1];console.log(a,n),w.a.get("https://api.thingspeak.com/channels/".concat(y.generalChanenlID,"/fields/").concat(n.index,".json"),{params:{api_key:y.generalChannelReadKey,results:1}}).then((function(e){console.log(e.data),t.writeState(a,e.data)})).catch((function(e){console.log(e)}))};for(c.s();!(i=c.n()).done;)r()}catch(l){c.e(l)}finally{c.f()}}},{key:"writeState",value:function(e,t){switch(e){case 1:this.setState(Object(p.a)({},this.state,{communities:[Object(p.a)({},this.state.communities[0],{status:1e3!==t})].concat(Object(g.a)(this.state.communities.slice(1)))}))}}},{key:"varyGenerated",value:function(){this.setState({powerProduced:this.state.powerProduced+(Math.floor(6*Math.random())+1),powerConsumed:this.state.powerConsumed+(Math.floor(4*Math.random())+1)})}},{key:"controlUser",value:function(e){var t=this,a=!this.state.communities.filter((function(t){return t.id===e}))[0].status;w.a.get("https://api.thingspeak.com/update",{params:Object(d.a)({api_key:y.writeChannelWriteKey},Z.get(e).field,a?5e3:1e3)}).then((function(a){0!==a.data?t.setState({communities:t.state.communities.map((function(t){return t.id===e?{id:t.id,name:t.name,status:!t.status}:t}))}):console.log("error")})).catch((function(e){return console.log(e)}))}},{key:"switchActiveTab",value:function(e){this.setState({activeTab:e})}},{key:"setActiveSource",value:function(e){var t=this;w.a.get("https://api.thingspeak.com/update",{params:{api_key:y.writeKey}}).then((function(a){0!==a.data&&t.setState({activeSource:e})}))}},{key:"switchBulbStatus",value:function(){var e=this;this.setState({bulbStatus:!this.state.bulbStatus},(function(){e.setState(Object(p.a)({},e.state,{communities:e.state.communities.map((function(t){return Object(p.a)({},t,{status:e.state.bulbStatus})}))}))}))}},{key:"logOut",value:function(){localStorage.removeItem("token"),this.props.history.push("/login")}},{key:"switchDeviceStatus",value:function(){!0===this.state.deviceStatus&&this.setState({activeSource:"Grid"}),this.setState({deviceStatus:!this.state.deviceStatus,bulbStatus:!this.false})}},{key:"render",value:function(){var e=this.state.activeTab;return i.a.createElement("div",{className:"App"},this.state.modal.show&&i.a.createElement(K,{message:this.state.modal.message}),i.a.createElement(A,{switchActiveTab:this.switchActiveTab,activeTab:this.state.activeTab,logOut:this.logOut,token:this.state.token}),"overview"===e&&i.a.createElement(R,{data:this.state,controlUser:this.controlUser,switchBulbStatus:this.switchBulbStatus,setActiveSource:this.setActiveSource,switchDeviceStatus:this.switchDeviceStatus,token:this.state.token}),"graphs"===e&&i.a.createElement(G,null),"userlogs"===e&&i.a.createElement(W,{communities:this.state.communities,controlUser:this.controlUser}),"notifications"===e&&i.a.createElement(F,{notifications:this.state.notifications}))}}]),a}(n.Component),_=a(33),Y=a.n(_),X=a(34),$=a.n(X),q=a(35),ee=a.n(q),te=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={email:null,password:null,message:null,loading:!1},n.checkLogin=n.checkLogin.bind(Object(E.a)(n)),n}return Object(s.a)(a,[{key:"checkLogin",value:function(){this.setState({loading:!0});var e=this.state,t=e.email,a=e.password;t&&a?this.submitData():this.setState({loading:!1,message:"Please fill al fields correctly"})}},{key:"submitData",value:function(){var e=this;w.a.post(y.authServer+"api/auth/login",Object(p.a)({},this.state)).then((function(t){if(e.setState({loading:!1}),t.data.success){var a=t.data.token;localStorage.setItem("token",a),e.props.history.push("/")}else e.setState({message:t.data.error||"An Unknown Error Occured"})})).catch((function(t){e.setState({loading:!1}),t.response?(console.log(Object(p.a)({},t)),e.setState({message:t.response.data.error})):e.setState({message:"An Unknown Error Occured, Please Try Again"})}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"login-wrap"},i.a.createElement("div",{className:"login-left"},i.a.createElement("div",{className:"login-content"},i.a.createElement("div",{className:"images"},i.a.createElement("img",{src:Y.a,alt:"generator"}),i.a.createElement("img",{src:$.a,alt:"Grid"}),i.a.createElement("img",{src:ee.a,alt:"Renewable"}))," ",i.a.createElement("h1",null," ","Intelligent Master ",i.a.createElement("br",null)," Controller Interface"," ")," ",i.a.createElement("div",{style:{color:"orange"}},this.state.message),i.a.createElement("input",{type:"mail",placeholder:"Email",onChange:function(t){return e.setState({email:t.target.value})}})," ",i.a.createElement("br",null),i.a.createElement("input",{type:"password",placeholder:"Password",onChange:function(t){return e.setState({password:t.target.value})}})," ",i.a.createElement("br",null),i.a.createElement("button",{onClick:function(){return e.checkLogin()}}," ",this.state.loading?"Loading...":"SIGN IN"," ")," ",i.a.createElement("p",null," "))," "),i.a.createElement("div",{className:"login-right"},i.a.createElement("div",{className:"login-content"},i.a.createElement("h1",null," New IMC Operator 's ")," ",i.a.createElement("p",null," Enter your personal details to sign up ")," ",i.a.createElement(m.b,{to:"/signup"}," SIGN UP ")," ",i.a.createElement("p",null," AFIKPO UNIFIED ENERGY SYSTEM ")," ")," ")," ")}}]),a}(n.Component),ae=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={firstName:null,lastName:null,phoneNumber:null,email:null,ID:null,community:null,password:null,password2:null,message:"",loading:!1},n}return Object(s.a)(a,[{key:"validateInputs",value:function(){this.setState({loading:!0});var e=this.state,t=e.firstName,a=e.lastName,n=e.phoneNumber,i=e.email,c=e.ID,r=e.community,l=e.password,s=e.password2;if(t&&a&&n&&i&&c&&r&&l&&s){if(l!==s)return this.setState({loading:!1}),this.setState({message:"Passwords do not match"});this.submitData()}else this.setState({loading:!1}),this.setState({message:"Please Fill all fields Correctly"})}},{key:"submitData",value:function(){var e=this;w.a.post(y.authServer+"api/auth/signup",Object(p.a)({},this.state)).then((function(t){e.setState({loading:!1}),e.setState({message:t.data.success||t.data.error})})).catch((function(t){e.setState({loading:!1}),t.response?(console.log(Object(p.a)({},t)),e.setState({message:t.response.data.error})):e.setState({message:"An Unknown Error Occured, Please Try Again"})}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"login-wrap"},i.a.createElement("div",{className:"login-right signup-left"},i.a.createElement("div",{className:"login-content"},i.a.createElement("h1",null,"Welcome Back"),i.a.createElement("p",null,"To keep connected with us please log in with your personal info"),i.a.createElement(m.b,{to:"/login"},"SIGN IN"))),i.a.createElement("div",{className:"login-left"},i.a.createElement("div",{className:"login-content"},i.a.createElement("div",{className:"images"},i.a.createElement("img",{src:Y.a,alt:"generator"}),i.a.createElement("img",{src:$.a,alt:"Grid"}),i.a.createElement("img",{src:ee.a,alt:"Renewable"})),i.a.createElement("h1",null,"Create Account"),i.a.createElement("div",{style:{color:"orange"}},this.state.message),i.a.createElement("div",{className:"input-details"},i.a.createElement("input",{type:"text",placeholder:"*First Name",onChange:function(t){return e.setState({firstName:t.target.value})}}),i.a.createElement("br",null),i.a.createElement("input",{type:"text",placeholder:"*Last Name",onChange:function(t){return e.setState({lastName:t.target.value})}}),i.a.createElement("br",null),i.a.createElement("input",{type:"number",placeholder:"Phone Number",onChange:function(t){return e.setState({phoneNumber:t.target.value})}}),i.a.createElement("br",null),i.a.createElement("input",{type:"email",placeholder:"*Email Address",onChange:function(t){return e.setState({email:t.target.value})}}),i.a.createElement("br",null),i.a.createElement("input",{type:"text",placeholder:"*Identification Number",onChange:function(t){return e.setState({ID:t.target.value})}}),i.a.createElement("br",null),i.a.createElement("input",{type:"text",placeholder:"*Community",onChange:function(t){return e.setState({community:t.target.value})}}),i.a.createElement("br",null),i.a.createElement("input",{type:"password",placeholder:"*Password",onChange:function(t){return e.setState({password:t.target.value})}}),i.a.createElement("br",null),i.a.createElement("input",{type:"password",placeholder:"*Verify Password",onChange:function(t){return e.setState({password2:t.target.value})}}),i.a.createElement("br",null)),i.a.createElement("button",{onClick:function(){return e.validateInputs()}},this.state.loading?"Loading...":"SIGN UP"))))}}]),a}(n.Component),ne=(a(201),function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return i.a.createElement(m.a,{basename:"/"},i.a.createElement(h.a,{exact:!0,path:"/",component:Q}),i.a.createElement(h.a,{path:"/login",component:te}),i.a.createElement(h.a,{path:"/signup",component:ae}))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},33:function(e,t,a){e.exports=a.p+"static/media/generator.408cfd0d.png"},34:function(e,t,a){e.exports=a.p+"static/media/grid.bb35b4ca.png"},35:function(e,t,a){e.exports=a.p+"static/media/renewable.986ad70e.png"},84:function(e,t,a){e.exports=a(202)},89:function(e,t,a){}},[[84,1,2]]]);
//# sourceMappingURL=main.a827debc.chunk.js.map